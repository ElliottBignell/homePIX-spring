<html xmlns:th="https://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout (~{::body},'albums')}">

<head>
</head>
<body>

<div class="album-main">

  <div class="centerstage">
    <div class="techfont stage" id="div_centrestage">
      <div class="row">
        <a th:href="${currentUrl}" style="color:blue;">
          <h3><- Return to shopping</h3>
        </a>
        <div class="col-md-16">
          <p>
          <h1>
            Cart
          </h1>
          <figure th:each="item : ${items}">
            <hr>
            <span th:text="${item.picture.id}">
                Item
            </span>
            <img th:width="${item.picture.displayWidth}"
                 th:height="${item.picture.displayHeight}"
                 th:src="${item.picture.mediumFilename}"
                 th:data-src="${item.picture.mediumFilename}"
                 th:alt="${item.picture.title}"
            >
            <span th:text="${item.size}">
                Size
            </span>
            <span>
              <form action="/cart/delete" method="post" style="display:inline">
                <button type="submit" style="background-color:rgba(0,0,0,0); border:none;">
                  <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                  <input type="hidden" name="redirectTo" th:value="${currentUrl}" />
                  <input type="hidden" name="orderNo" th:value="${item.id}" />
                   <svg xmlns="http://www.w3.org/2000/svg"
                        height="32" width="32"
                        viewBox="0 96 960 960"
                        fill="var(--homepix-br-darkest)">
                    <path d="M280 936q-33 0-56.5-23.5T200 856V336h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680 936H280Zm400-600H280v520h400V336ZM400 776h80V416h-80v360Zm160 0h80V416h-80v360Z"/>
                  </svg>
                </button>
              </form>
            </span>
            <span th:text="${#numbers.formatDecimal(item?.getTotalPrice() ?: 0, 1, 2) + ' CHF'}">
              10.00
            </span>
          </figure>
        </div>
        <div class="col-md-6">
          <p>Totel:</p>
          <p th:text="${#numbers.formatDecimal(price, 1, 2)}">100,000 CHF</p>
          <hr>
          <form action="/cart/buy" method="post">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
            <button class="mdc-button mdc-button--raised" type="submit">
              <span class="mdc-button__label">Buy</span>
            </button>
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
          </form>
          <th:block th:each="download : ${downloads}">
            <a th:href="${download}">
              <button class="mdc-button mdc-button--raised" type="button">
                <svg xmlns="http://www.w3.org/2000/svg"
                     height="20" width="20"
                     viewBox="0 0 24 24" fill="var(--homepix-br-lightest)">
                  <path d="M5 20q-.825 0-1.412-.587Q3 18.825 3 18v-3h2v3h14v-3h2v3q0 .825-.587 1.413Q19.825 20 19 20Zm7-4L7.4 11.4 8.825 10l2.175 2.175V4h2v8.175L15.2 10l1.4 1.4Z"/>
                </svg>
                <span class="mdc-button__label"
                      th:text="${#strings.substring(download, download.lastIndexOf('/') + 1)}">
                </span>
              </button>
            </a>
            <br>
            <br>
          </th:block>
        </div>
      </div>
    </div>
  </div>
</div>

</body>

</html>
